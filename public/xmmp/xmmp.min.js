!function(e){e.JSBridge&&window.JSBridge.native||(e.JSBridge={onSuccess:function(e,t,r){if(r||"__iframe"!==e.split("-")[0]){if("object"!=typeof t)try{t=JSON.parse(decodeURIComponent(t))}catch(e){console.error("JSBridge Error: Parse Response Error \n",e,t)}window.JSBridge._callback[e](t)}else for(var n=0;n<window.frames.length;n++)window.frames[n].postMessage({xmmpMessage:{token:e,response:t}},"*")},onEvent:function(t,r){console.log("客户端事件触发：",t,r),window.JSBridge._event&&window.JSBridge._event[t]&&window.JSBridge._event[t].forEach(function(e){try{e(r.data)}catch(e){console.error("JSBridge Error: Event "+t+" Callback Error \n",e,r)}})},onNavigateBack:function(){var t="navigateBack",r=!1;window.JSBridge._event&&window.JSBridge._event[t]&&window.JSBridge._event[t].forEach(function(e){try{!1===e()&&(r=!0)}catch(e){console.error("JSBridge Error: Event "+t+" Callback Error \n",e)}}),r||window.JSBridge._requestHybrid({method:"goBack"})},native:function(e,n){return new Promise(function(t,r){window.JSBridge._requestHybrid({method:e,data:n,callback:function(e){console.log("客户端返回：",e),200===e.code?t(e.data):r(e)}})})},on:function(e,t){return e&&t&&(window.JSBridge._event[e]||(window.JSBridge._event[e]=[]),window.JSBridge._event[e].push(t)),this},once:function(e,t){var r=function(){window.JSBridge.off(e,r),t()};window.JSBridge.on(e,r)},off:function(e,t){if(e)if(t){if(!window.JSBridge._event[e])return this;for(var r=0;r<window.JSBridge._event[e].length;r++)if(t===window.JSBridge._event[e][r]){window.JSBridge._event[e].splice(r,1);break}}else delete window.JSBridge._event[e];else window.JSBridge._event={};return this},emit:function(e,t){return window.JSBridge._event[e]&&window.JSBridge._event[e].forEach(function(e){e(t)}),this},_requestHybrid:function(t){var r=this;if(console.log("客户端入参：",t),t.callback){var n=t.callbackName||"token_"+Date.now()+"_"+Math.floor(1e4*Math.random());try{window.self!==window.top&&(n="__iframe-"+n)}catch(e){}this._callback[n]=function(e){t.callback(e),delete r._callback[n]},t._token=n}this._postToNative(this._getUrlByParams(t))},_getUrlByParams:function(e){var t="";return t+="native://"+e.method+"?",e.data&&("object"==typeof e.data&&(e.data=JSON.stringify(e.data)),t+="data="+encodeURIComponent(e.data)+"&"),t+="callback="+e._token},_postToNative:function(e){var t=document.createElement("iframe");t.src=e,t.style.display="none",document.documentElement.appendChild(t),document.documentElement.removeChild(t),t=null},_callback:{},_event:{}},window.addEventListener("message",function(e){if(e.data&&e.data.xmmpMessage){var t=e.data.xmmpMessage.token,r=e.data.xmmpMessage.response;window.JSBridge.onSuccess(t,r,!0)}},!1))}(window);var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function isDataView(e){return e&&DataView.prototype.isPrototypeOf(e)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(e){return e&&-1<viewClasses.indexOf(Object.prototype.toString.call(e))};function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return support.iterable&&(e[Symbol.iterator]=function(){return e}),e}function Headers(t){this.map={},t instanceof Headers?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function readBlobAsArrayBuffer(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsArrayBuffer(e),r}function readBlobAsText(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsText(e),r}function readArrayBufferAsText(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:support.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:support.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():support.arrayBuffer&&support.blob&&isDataView(e)?(this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||isArrayBufferView(e))?this._bodyArrayBuffer=bufferClone(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Headers.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),iteratorFor(r)},Headers.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),iteratorFor(t)},Headers.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),iteratorFor(r)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(e){var t=e.toUpperCase();return-1<methods.indexOf(t)?t:e}function Request(e,t){var r=(t=t||{}).body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=normalizeMethod(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function decode(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),r=t.shift().replace(/\+/g," "),n=t.join("=").replace(/\+/g," ");o.append(decodeURIComponent(r),decodeURIComponent(n))}}),o}function parseHeaders(e){var o=new Headers;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),r=t.shift().trim();if(r){var n=t.join(":").trim();o.append(r,n)}}),o}function Response(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===redirectStatuses.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})};var DOMException=self.DOMException;try{new DOMException}catch(e){(DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),DOMException.prototype.constructor=DOMException}self.Headers=Headers,self.Request=Request,self.Response=Response,function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.xm=t()}(window,function(){"use strict";var l=JSBridge.native,n=JSBridge.on,r=JSBridge.emit,o=JSBridge.once,i=JSBridge.off,d={canIUse:"checkmethod",emit:!0,emitParent:"callparentjs",off:!0,on:!0,once:!0,pageScrollTo:!0,setEnableDebug:!0,setNavigationBarTitle:!0,showExceptionTip:"showexceptiontip",sourceCheck:"sourceCheck",getSystemInfo:"getSystemInfo",getAppVersion:"getversion",getAppInfo:"getAppInfo",getAppConfig:"getappconfig",log:"log",logToServer:"logToServer",chooseImage:"selectpic",previewImages:"previewimages",cancelRecord:"cancelRecord",pauseRecord:"pauseRecord",resumeRecord:"resumeRecord",startRecord:"startRecord",stopRecord:"stopRecord",playAudio:"playAudio",pauseAudio:"pauseAudio",resumeAudio:"resumeAudio",stopAudio:"stopAudio",playMedia:"playMedia",openVC:"openvc",navigateBack:"navigateBack",navigateTo:"openurl",openApp:"openapp",openExternal:"openExternal",redirectTo:"locate",hideLoading:"hideLoading",showAlert:"alert",showConfirm:"confirm",showLoading:"showLoading",showModal:"modal",showPrompt:"prompt",showToast:"toast",picker:"picker",selectDate:"selectdate",showActionSheet:"actionsheet",request:"request",fetch:!0,clearStorage:"clearStorage",getStorage:"getStorage",removeStorage:"removeStorage",setStorage:"setStorage",createTable:"createTable",tableSelect:"select",tableUpdate:"update",tableDelete:"delete",tableInsert:"insert",getLocation:"getlocation",chooseFile:"savefile",downloadFile:"downloadFile",openFile:"openfile",connectWifi:"connectWifi",getCurrentWifi:"currentwifi",getWifiList:"availablewifilist",isWifi:"iswifi",openBluetoothAdapter:"openBluetoothAdapter",closeBluetoothAdapter:"closeBluetoothAdapter",getBluetoothAdapterState:"getBluetoothAdapterState",startBluetoothDevicesDiscovery:"startBluetoothDevicesDiscovery",stopBluetoothDevicesDiscovery:"stopBluetoothDevicesDiscovery",getBluetoothDevices:"getBluetoothDevices",getConnectedDevices:"getConnectedDevices",createBLEConnection:"createBLEConnection",closeBLEConnection:"closeBLEConnection",getBLEDeviceServices:"getBLEDeviceServices",getBLEDeviceCharacteristics:"getBLEDeviceCharacteristics",readBLECharacteristicValue:"readBLECharacteristicValue",writeBLECharacteristicValue:"writeBLECharacteristicValue",notifyBLECharacteristicValueChange:"notifyBLECharacteristicValueChange",scanCode:"camerascan",horizontalScreen:"horizontalScreen",makePhoneCall:"makePhoneCall",annotate:"annotate",share:"share",shareLink:"sharelink",getCurrentOrgInfo:"getCurrentOrgInfo",getLoginUserInfo:"getLoginUserInfo",getUserInfo:"getUserInfo",getOrgList:"getorglist",getToken:"getToken",selectDepartments:"selectdepartments",selectMembers:"selectmembers",writeMail:"writeMail",getAuthCode:"gethwssostring",uploadFileToCloudDriver:"uploadFileToCloudDriver",openCloudDriverFile:"openCloudDriverFile",chooseCloudDriverFile:"chooseCloudDriverFile",startTrail:"starttrail",stopTrail:"stoptrail"};function t(t){window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){return setTimeout(e,17)});var r=document.documentElement.scrollTop||document.body.scrollTop,n=function(){var e=t-r;r+=e/5,Math.abs(e)<1?window.scrollTo(0,t):(window.scrollTo(0,r),requestAnimationFrame(n))};n()}function a(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]}function s(e,t,r,n){var o=function(t,e,r){var n="";if(!t)return n="请填写入参",r?n:new Promise(function(e,t){t(n)});var o=e.map(function(e){return void 0===t[e]?e:""}).filter(function(e){return e});if(o.length)return n="入参缺少必填项："+o.join(","),r?n:new Promise(function(e,t){t(n)});return!0}(e,t,n),i=function(e,t){var r=!1,n="";for(var o in t){var i=a(e[o]);if(-1===t[o].toString().indexOf(i)){r=!0,n=o;break}}if(r)return new Promise(function(e,t){t("入参格式错误："+n)});return!0}(e,r);return!0!==o?o:!0===i||i}function f(a){console.log("开始加载js",a);var s="shinemosdk://"+a+"/";return Promise.all([{type:"script",file:"index.js"},{type:"link",file:"index.css"}].map(function(i){return new Promise(function(e){var t=Date.now(),r=document.createElement(i.type);if("script"===i.type){var n=document.getElementById("J_"+a);n&&n.parentNode.removeChild(n),r.id="J_"+a,r.src=s+i.file+"?t="+t}else if("link"===i.type){var o=document.getElementById("C_"+a);o&&o.parentNode.removeChild(o),r.id="C_"+a,r.href=s+i.file+"?t="+t,r.rel="stylesheet"}document.head.appendChild(r),r.onload=function(){console.log("js或css加载成功",a),e(a),r.onerror=r.onload=null},r.onerror=function(){console.log("js或css加载失败",a),e(),r.onerror=r.onload=null}})})).then(function(e){return console.log("js与css加载完毕",e),console.log("加载成功的个数：",e.filter(function(e){return e}).length),!!e.filter(function(e){return e}).length&&a})}var p=null;var c={version:"2.0.1",native:l,isInNative:function(){return new Promise(function(e){var t=null;c.canIUse({api:"xm.showToast"}).then(function(){clearTimeout(t),e(!0)}),t=setTimeout(function(){e(!1)},300)})},canIUse:function(e){var t=s(e,["api"],{api:["String","Array"]});if(!0!==t)return t;var r,n="String"===a(e.api);return n&&(e.api=[e.api]),r=e.api.map(function(e){return d[e.split(".").slice(1).join(".")]}),l(d.canIUse,{method:r}).then(function(e){return n?e[0]:e})},emit:function(e,t){e&&r(e,t)},emitParent:function(e,t){e&&l(d.emitParent,{callbackId:e,data:t})},off:function(e,t){i(e,t)},on:function(e,t){e&&t&&n(e,t)},once:function(e,t){e&&t&&o(e,t)},pageScrollTo:function(e){if(e.duration||(e.duration=300),void 0!==e.scrollTop)t(e.scrollTop,e.duration);else if(e.selector){if(void 0===window.getComputedStyle(document.body).scrollBehavior)t(document.querySelector(e.selector).getBoundingClientRect().top,e.duration);else document.querySelector(e.selector).scrollIntoView({behavior:"smooth"})}},setEnableDebug:function(e){e.enableDebug&&window.VConsole&&!window.__VConsole?window.__VConsole=new VConsole:!e.enableDebug&&window.__VConsole&&"Function"===a(window.__VConsole.destroy)&&(window.__VConsole.destroy(),window.__VConsole=null)},setNavigationBarTitle:function(e){var t=s(e,["title"],{title:"String"},!0);if(!0!==t)throw new Error(t);document.title=e.title},showExceptionTip:function(e){l(d.showExceptionTip,e)},sourceCheck:function(s){function c(e){console.log("开始调用reload"),window._VmCenter&&window._VmCenter[e]&&window._VmCenter[e].reload&&window._VmCenter[e].reload()}var u=!1;return new Promise(function(t){function n(e){u?t():u=!0}var o,r={},i=["20000","25000","25001","25002"],a=[];s.componentNames.forEach(function(e){e=e.toString(),r[e]||(r[e]=1,a.push(e.split("-").pop()))}),(o=a,new Promise(function(n){p?n(p):l("getAuthedCardIds").then(function(e){var t={},r=[];e.forEach(function(e){t[e]=1}),o.forEach(function(e){t[e]&&r.push(e)}),n(p=r)})})).then(function(e){s.ids=[].concat(i).concat(e),l(d.sourceCheck,s).then(function(e){var t=[];if(e)for(var r in console.log("sourceChcek返回：",e),e)e[r].loaded&&e[r].updated&&-1===i.indexOf(r)&&t.push(r);console.log("需要reload的ID",t),t.length?Promise.all(t.map(f)).then(function(e){console.log("调用客户端sourceCheck返回后加载的文件加载完毕",e),e.filter(function(e){return e}).forEach(c),n()}):n()}),Promise.all(e.map(f)).then(function(e){console.log("默认加载的文件加载完毕",e),e.filter(function(e){return e}).forEach(c),n()})})})},getSystemInfo:function(){return l(d.getSystemInfo)},getAppVersion:function(){return l(d.getAppVersion)},getAppInfo:function(){return l(d.getAppInfo)},getAppConfig:function(){return l(d.getAppConfig)},log:function(e){var t=s(e,["content"],{content:"String"},!0);if(!0!==t)throw new Error(t);e.type||(e.type="i"),l(d.log,e)},logToServer:function(e){var t=s(e,["mid","eid"],{mid:"String",eid:"String"},!0);if(!0!==t)throw new Error(t);l(d.logToServer,e)},chooseImage:function(e){return e.count&&(e.max=e.count),e.sourceType||(e.sourceType=0),e.needExif||(e.needExif=0),e.needBase64||(e.needBase64=0),l(d.chooseImage,e)},previewImages:function(e){var t=s(e,["urls"],{urls:"Array"},!0);if(!0!==t)throw new Error(t);e.position=e.current||0,l(d.previewImages,e)},cancelRecord:function(){return l(d.cancelRecord)},pauseRecord:function(){return l(d.pauseRecord)},resumeRecord:function(){return l(d.resumeRecord)},startRecord:function(e){return e&&e.onError&&n("onStartRecordError",e.onError),l(d.startRecord,e)},stopRecord:function(){return l(d.stopRecord)},playAudio:function(e){var t=s(e,["url"],{url:"String"});return!0!==t?t:l(d.playAudio,e)},pauseAudio:function(){return l(d.pauseAudio)},resumeAudio:function(){return l(d.resumeAudio)},stopAudio:function(){return l(d.stopAudio)},playMedia:function(e){var t=s(e,["url"],{url:"String"});return!0!==t?t:l(d.playMedia,e)},openVC:function(e){var t=s(e,["DEVICE_CODE"],{DEVICE_CODE:"String"});if(!0!==t)return t;l(d.openVC,e)},navigateBack:function(e){l(d.navigateBack,e)},navigateTo:function(e){var t=s(e,["url"],{url:"String"},!0);if(!0!==t)throw new Error(t);if(e.events)for(var r in e.events)n(r,e.events[r]);return l(d.navigateTo,e)},openApp:function(e){var t=s(e,["appid"],{appid:["Number","String"]},!0);if(!0!==t)throw new Error(t);if(e.param){var r=[];for(var n in e.param)r.push(n+"="+e.param[n]);e.param=r.join("&")}return l(d.openApp,e)},openExternal:function(e){var t=s(e,["url"],{url:"String"},!0);if(!0!==t)throw new Error(t);return l(d.openExternal,e)},redirectTo:function(e){var t=s(e,["url"],{url:"String"},!0);if(!0!==t)throw new Error(t);return e.name=e.url,l(d.redirectTo,e)},hideLoading:function(){l(d.hideLoading)},showAlert:function(e){var t=s(e,["title","message"],{title:"String",message:"String"},!0);if(!0!==t)throw new Error(t);e.msg=e.message,l(d.showAlert,e)},showConfirm:function(e){var t=s(e,["title","message"],{title:"String",message:"String"});return!0!==t?t:(e.msg=e.message,l(d.showConfirm,e))},showLoading:function(){l(d.showLoading)},showModal:function(e){var t=s(e,["title","img","message"],{message:"String",title:"String",img:"String"},!0);if(!0!==t)throw new Error(t);e.msg=e.message,l(d.showModal,e)},showPrompt:function(e){var t=s(e,["title","message"],{title:"String",message:"String"});return!0!==t?t:(e.msg=e.message,l(d.showPrompt,e))},showToast:function(e){var t=s(e,["message"],{message:"String"},!0);if(!0!==t)throw new Error(t);e.msg=e.message,l(d.showToast,e)},picker:function(e){var t=s(e,["title","list"],{title:"String",list:"Array"});return!0!==t?t:l(d.picker,e)},selectDate:function(e){return l(d.selectDate,e)},showActionSheet:function(e){var t=s(e,["title","itemList"],{title:"String",itemList:"Array"});return!0!==t?t:(e.list=e.itemList,e.highlight=e.defaultValue,l(d.showActionSheet,e))},request:function(e){var t=s(e,["url"],{url:"String"});return!0!==t?t:l(d.request,e).then(function(e){var t=e.body;try{t=JSON.parse(t)}catch(e){}return t})},fetch:function(e,r){return r||"Object"!==a(e)||(e=r.url),e&&"String"===a(e)?(r.url=e,r.data=r.body,r.withCredentials=r.credentials,l(d.request,r).then(function(e){var t={status:e.status,statusText:e.statusText,headers:parseHeaders(e.headers||""),ok:e.ok,url:r.url};return new Response(e.body,t)})):new Promise(function(e,t){t("url不能为空")})},isOnline:function(){return window.navigator.onLine},clearStorage:function(){return l(d.clearStorage)},getStorage:function(e){var t=s(e,["key"],{key:"String"});return!0!==t?t:l(d.getStorage,e)},removeStorage:function(e){var t=s(e,["key"],{key:"String"});return!0!==t?t:l(d.removeStorage,e)},setStorage:function(e){var t=s(e,["key","value"],{key:"String",value:"String"});return!0!==t?t:l(d.setStorage,e)},createTable:function(e){var t=s(e,["tableName","columnList"],{tableName:"String",columnList:"Array"});return!0!==t?t:l(d.createTable,e)},tableSelect:function(e){var t=s(e,["tableName","condition"],{tableName:"String",condition:"String"});return!0!==t?t:l(d.tableSelect,e)},tableUpdate:function(e){var t=s(e,["tableName","condition"],{tableName:"String",condition:"String"});return!0!==t?t:l(d.tableUpdate,e)},tableDelete:function(e){var t=s(e,["tableName","condition"],{tableName:"String",condition:"String"});return!0!==t?t:l(d.tableDelete,e)},tableInsert:function(e){var t=s(e,["tableName","list"],{tableName:"String",list:"Array"});return!0!==t?t:l(d.tableInsert,e)},getLocation:function(e){return e&&(e.sdk=e.sdk||0,e.location=e.sdk||0,e.timeout=parseInt((e.timeout||3e4)/1e3)),l(d.getLocation,e)},openFile:function(e){var t=s(e,["fileName"],{fileName:"String"},!0);if(!0!==t)throw new Error(t);if(!e.path&&!e.url)throw new Error("入参缺少必填项：path或者url");l(d.openFile,e)},chooseFile:function(e){return l(d.chooseFile,e)},downloadFile:function(e){var t=s(e,["url","filePath"],{url:"String",filePath:"String"});return!0!==t?t:l(d.downloadFile,e)},connectWifi:function(e){var t=s(e,["ssid","mac","password","capabilities"],{ssid:"String",mac:"String",password:"String",capabilities:"String"});return!0!==t?t:l(d.connectWifi,e)},getCurrentWifi:function(){return l(d.getCurrentWifi)},getWifiList:function(){return l(d.getWifiList)},isWifi:function(){return l(d.isWifi).then(function(e){return 1===e})},openBluetoothAdapter:function(){return l(d.openBluetoothAdapter)},closeBluetoothAdapter:function(){return l(d.closeBluetoothAdapter)},getBluetoothAdapterState:function(){return l(d.getBluetoothAdapterState)},startBluetoothDevicesDiscovery:function(e){return l(d.startBluetoothDevicesDiscovery,e)},stopBluetoothDevicesDiscovery:function(){return l(d.stopBluetoothDevicesDiscovery)},getBluetoothDevices:function(){return l(d.getBluetoothDevices)},getConnectedDevices:function(){return l(d.getConnectedDevices)},createBLEConnection:function(e){var t=s(e,["deviceId"],{deviceId:"String"});return!0!==t?t:l(d.createBLEConnection,e)},closeBLEConnection:function(e){var t=s(e,["deviceId"],{deviceId:"String"});return!0!==t?t:l(d.closeBLEConnection,e)},getBLEDeviceServices:function(e){var t=s(e,["deviceId"],{deviceId:"String"});return!0!==t?t:l(d.getBLEDeviceServices,e)},getBLEDeviceCharacteristics:function(e){var t=s(e,["deviceId","serviceId"],{deviceId:"String",serviceId:"String"});return!0!==t?t:l(d.getBLEDeviceCharacteristics,e)},readBLECharacteristicValue:function(e){var t=s(e,["deviceId","serviceId","characteristicId"],{deviceId:"String",serviceId:"String",characteristicId:"String"});return!0!==t?t:l(d.readBLECharacteristicValue,e)},writeBLECharacteristicValue:function(e){var t=s(e,["deviceId","serviceId","characteristicId","value"],{deviceId:"String",serviceId:"String",characteristicId:"String",value:"String"});return!0!==t?t:l(d.writeBLECharacteristicValue,e)},notifyBLECharacteristicValueChange:function(e){var t=s(e,["deviceId","serviceId","characteristicId","state"],{deviceId:"String",serviceId:"String",characteristicId:"String",state:"Boolean"});return!0!==t?t:l(d.notifyBLECharacteristicValueChange,e)},scanCode:function(){return l(d.scanCode)},horizontalScreen:function(){l(d.horizontalScreen)},makePhoneCall:function(e){l(d.makePhoneCall,e)},annotate:function(t){return l(d.annotate,t).then(function(e){return t.upload?e:"data:image/png;base64,"+e})},share:function(e){var t=s(e,["logo","title","description"],{logo:"String",title:"String",description:"String"});return!0!==t?t:l(d.share,e)},shareLink:function(e){var t=s(e,["pic","title","desc","link"],{pic:"String",title:"String",desc:"String",link:"String"});return!0!==t?t:l(d.shareLink,e)},getCurrentOrgInfo:function(){return l(d.getCurrentOrgInfo)},getLoginUserInfo:function(){return l(d.getLoginUserInfo)},getUserInfo:function(e){var t=s(e,["uid"],{uid:"String"});return!0!==t?t:l(d.getUserInfo,e)},getOrgList:function(){return l(d.getOrgList)},getToken:function(){return l(d.getToken)},getAuthCode:function(e){return l(d.getAuthCode,e)},getHWSSOString:function(){return console.info("废弃通知：getHWSSOString即将废弃，请使用getAuthCode代替，请注意返回值的变化"),l(d.getAuthCode).then(function(e){return"string"==typeof e?{encryptedString:e}:e})},selectDepartments:function(e){var t=s(e,["orgId"],{orgId:"String"});return!0!==t?t:(e.orgid=e.orgId,delete e.orgId,l(d.selectDepartments,e))},selectMembers:function(e){return e.orgId&&(e.orgid=e.orgId,delete e.orgId),e.count||(e.count=500),l(d.selectMembers,e)},writeMail:function(e){return l(d.writeMail,e)},uploadFileToCloudDriver:function(e){var t=s(e,["filePath"],{filePath:"String"});return!0!==t?t:(void 0===e.chooseUploadPath&&(e.chooseUploadPath=!0),l(d.uploadFileToCloudDriver,e))},openCloudDriverFile:function(e){l(d.openCloudDriverFile,e)},chooseCloudDriverFile:function(){return l(d.chooseCloudDriverFile)},startTrail:function(e){return l(d.startTrail,e)},stopTrail:function(){l(d.stopTrail)}};return l("sdkloaded"),window.document.addEventListener("DOMContentLoaded",function(e){l("contentLoaded")}),c}),window.addEventListener("load",function(){xm.native("performance",[{key:"whiteScreenTime",value:performance.timing.responseStart-performance.timing.navigationStart,name:"页面白屏时间",unit:"ms",description:"从打开webview到从服务器（或从本地缓存）收到第一个字节的时间"},{key:"avaliableTime",value:performance.now(),name:"页面可用时间",unit:"ms",description:"从打开webview到页面加载完成(onLoad事件)"}])});