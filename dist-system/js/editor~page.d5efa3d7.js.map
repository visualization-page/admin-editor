{"version":3,"sources":["webpack:///./src/components/mobile-render/render/render-item.vue?4755","webpack:///./src/components/mobile-render/context-menu/index.vue?6b86","webpack:///./src/components/mobile-render/render/index.vue?8265","webpack:///./src/components/mobile-render/resize/index.vue?c4cf","webpack:///./src/components/mobile-render/resize/state.ts","webpack:///./src/components/mobile-render/resize/index.vue","webpack:///./src/components/mobile-render/resize/index.vue?89fa","webpack:///./src/components/mobile-render/resize/index.vue?45f4","webpack:///./src/components/mobile-render/context-menu/position.ts","webpack:///./src/components/mobile-render/edit-wrap.vue?ba3e","webpack:///./src/components/mobile-render/edit-wrap.vue","webpack:///./src/components/mobile-render/edit-wrap.vue?228a","webpack:///./src/components/mobile-render/context-menu/index.vue?94e0","webpack:///src/components/mobile-render/context-menu/index.vue","webpack:///./src/components/mobile-render/context-menu/index.vue?94ad","webpack:///./src/components/mobile-render/context-menu/index.vue?94cf","webpack:///./src/components/mobile-render/render/render-item.vue","webpack:///./src/components/mobile-render/render/render-item.vue?cc92","webpack:///./src/components/mobile-render/render/render-item.vue?0f6d","webpack:///./src/components/mobile-render/render/index.vue","webpack:///./src/components/mobile-render/render/index.vue?1415","webpack:///./src/components/mobile-render/render/index.vue?01e4","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/components/mobile-render/edit-wrap.vue?78d5","webpack:///./src/components/mobile-render/resize/index.vue?12f4"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","currentPage","className","attrs","nodes","pageConfig","globalConfig","_e","staticRenderFns","staticClass","style","outDocFlow","cursor","on","e","handleResizeDown","$event","preventDefault","$emit","stopPropagation","startX","startY","width","height","left","top","dragging","dir","node","value","_changeHeight","symbol","h","Number","pageY","_changeWidth","w","pageX","_changeLeft","_changeTop","percent2px","val","obj","unit","String","document","addEventListener","setup","position","component","contextPosition","show","setPosition","querySelector","getBoundingClientRect","props","item","Object","active","Boolean","ctx","handleClick","tab","nodeProperty","handleContext","click","context","contextmenu","slots","default","directives","name","rawName","expression","handleDel","_v","target","type","assign","newObj","keys","forEach","k","toUpperCase","slice","Array","superProps","renderItem","items","$$page","$$global","codeExecuteContext","isEditState","filter","x","vIf","res","map","isLibrary","nodeType","id","nativeOn","events","ev","handler","eventType","borderRadius","undefined","key","margin","padding","positionType","children","_renderItemSelf","renderString","ok","option","concat","componentName","dib","components","RenderItem","project","state","mounted","getCtx","httpOptions","opt","initHttp","deep","constant","cons","page","oldPage","updatePage","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","replace","start","end","trim","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","proto","forced","callbackfn","arguments","length","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","parseInt","NumberWrapper","valueOf","call","split","j"],"mappings":"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","file":"js/editor~page.d5efa3d7.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./render-item.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./render-item.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.currentPage)?_c('div',{class:['render-page', _vm.currentPage.className]},[_c('render-item',{attrs:{\"nodes\":_vm.currentPage.nodes,\"page-config\":_vm.pageConfig,\"global-config\":_vm.globalConfig}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resize\",style:(_vm.outDocFlow && { cursor: 'move' }),on:{\"mousedown\":function (e) { return _vm.handleResizeDown(e, 'move'); },\"contextmenu\":function($event){$event.preventDefault();return (function (e) { return _vm.$emit('context', e); })($event)}}},[(_vm.outDocFlow)?_c('div',{staticClass:\"resize__dot resize__dot-lt\",on:{\"mousedown\":function($event){$event.stopPropagation();return (function (e) { return _vm.handleResizeDown(e, 'left-top'); })($event)}}}):_vm._e(),(_vm.outDocFlow)?_c('div',{staticClass:\"resize__dot resize__dot-t\",on:{\"mousedown\":function($event){$event.stopPropagation();return (function (e) { return _vm.handleResizeDown(e, 'top'); })($event)}}}):_vm._e(),(_vm.outDocFlow)?_c('div',{staticClass:\"resize__dot resize__dot-tr\",on:{\"mousedown\":function($event){$event.stopPropagation();return (function (e) { return _vm.handleResizeDown(e, 'top-right'); })($event)}}}):_vm._e(),(_vm.outDocFlow)?_c('div',{staticClass:\"resize__dot resize__dot-lb\",on:{\"mousedown\":function($event){$event.stopPropagation();return (function (e) { return _vm.handleResizeDown(e, 'left-bottom'); })($event)}}}):_vm._e(),_c('div',{staticClass:\"resize__dot resize__dot-b\",on:{\"mousedown\":function($event){$event.stopPropagation();return (function (e) { return _vm.handleResizeDown(e, 'bottom'); })($event)}}}),(_vm.outDocFlow)?_c('div',{staticClass:\"resize__dot resize__dot-br\",on:{\"mousedown\":function($event){$event.stopPropagation();return (function (e) { return _vm.handleResizeDown(e, 'bottom-right'); })($event)}}}):_vm._e(),(_vm.outDocFlow)?_c('div',{staticClass:\"resize__dot resize__dot-l\",on:{\"mousedown\":function($event){$event.stopPropagation();return (function (e) { return _vm.handleResizeDown(e, 'left'); })($event)}}}):_vm._e(),_c('div',{staticClass:\"resize__dot resize__dot-r\",on:{\"mousedown\":function($event){$event.stopPropagation();return (function (e) { return _vm.handleResizeDown(e, 'right'); })($event)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// import Vue from 'vue'\nimport { reactive } from '@vue/composition-api'\nimport { currentNode, updateNodePosition, updateNodeStyle } from '@/assets/node'\n// import { throttle } from 'lodash'\n\nexport type UnitValue = { unit?: string, value?: string }\nexport const state = reactive<{\n  startX: number\n  startY: number\n  width: UnitValue\n  height: UnitValue\n  left: UnitValue\n  top: UnitValue\n  dragging: boolean\n  dir: string\n}>({\n  startX: 0,\n  startY: 0,\n  width: {},\n  height: {},\n  left: {},\n  top: {},\n  dragging: false,\n  dir: ''\n})\n\nconst handleMove = (e: MouseEvent) => {\n  if (state.dragging) {\n    const node = currentNode.value!\n    const _changeHeight = (symbol: 1 | -1) => {\n      const h = Number(state.height.value) + (e.pageY - state.startY) * symbol\n      if (h >= 0 && h <= 480) {\n        updateNodeStyle({ height: `${h}px` })\n      }\n    }\n    const _changeWidth = (symbol: 1 | -1) => {\n      const w = Number(state.width.value) + (e.pageX - state.startX) * symbol\n      if (w >= 0 && w <= 320) {\n        updateNodeStyle({ width: `${w}px` })\n      }\n    }\n    const _changeLeft = () => {\n      updateNodePosition('left', `${Number(state.left.value || 0) + e.pageX - state.startX}px`)\n    }\n    const _changeTop = () => {\n      updateNodePosition('top', `${Number(state.top.value || 0) + e.pageY - state.startY}px`)\n    }\n    // const\n    if (state.dir === 'bottom') {\n      _changeHeight(1)\n    } else if (state.dir === 'right') {\n      _changeWidth(1)\n    } else if (node.outDocFlow) {\n      if (state.dir === 'left') {\n        _changeLeft()\n        _changeWidth(-1)\n      } else if (state.dir === 'top') {\n        _changeTop()\n        _changeHeight(-1)\n      } else if (state.dir === 'top-right') {\n        _changeTop()\n        _changeWidth(1)\n        _changeHeight(-1)\n      } else if (state.dir === 'bottom-right') {\n        _changeWidth(1)\n        _changeHeight(1)\n      } else if (state.dir === 'left-top') {\n        _changeTop()\n        _changeLeft()\n        _changeWidth(-1)\n        _changeHeight(-1)\n      } else if (state.dir === 'left-bottom') {\n        _changeLeft()\n        _changeWidth(-1)\n        _changeHeight(1)\n      } else if (state.dir === 'move') {\n        _changeTop()\n        _changeLeft()\n      }\n    }\n  }\n}\n\n// document.addEventListener('mousemove', throttle(handleMove, 80))\ndocument.addEventListener('mousemove', handleMove)\ndocument.addEventListener('mouseup', e => {\n  state.dragging = false\n})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, reactive, computed } from '@vue/composition-api'\nimport { currentNode } from '@/assets/node'\nimport { getUnitValue } from '@/assets/util'\nimport { state, UnitValue } from './state'\n\nfunction percent2px (val: string, dir: 'vertical' | 'horizontal'): UnitValue {\n  const obj = getUnitValue(val)\n  if (obj.unit === '%') {\n    obj.unit = 'px'\n    obj.value = String((dir === 'horizontal' ? 320 : 480) * Number(obj.value || 0) / 100)\n  }\n  return obj\n}\n\nexport default defineComponent({\n  setup () {\n    const handleResizeDown = (e: MouseEvent, dir: string) => {\n      const node = currentNode.value!\n      state.startX = e.pageX\n      state.startY = e.pageY\n      state.dragging = true\n      state.dir = dir\n      state.width = percent2px(node.style.width, 'horizontal')\n      state.height = percent2px(node.style.height, 'vertical')\n      state.left = percent2px(node.style.position.left, 'horizontal')\n      state.top = percent2px(node.style.position.top, 'vertical')\n    }\n    // const showContextMenu = (e: MouseEvent) => {\n    //   handleClick()\n    // }\n    // const handleClick = () => {\n    //   setCurrentNode(props.item)\n    // }\n    return {\n      handleResizeDown,\n      // showContextMenu,\n      // handleClick,\n      outDocFlow: computed(() => currentNode.value && currentNode.value.outDocFlow)\n    }\n  }\n})\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e27051ba&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { reactive } from '@vue/composition-api'\n\nexport const contextPosition = reactive({\n  top: 0,\n  left: 0,\n  show: false\n})\n\nexport function setPosition (e: MouseEvent) {\n  const { top, left } = document.querySelector('.app__mobile-webview')!.getBoundingClientRect()\n  contextPosition.top = e.pageY - top\n  contextPosition.left = e.pageX - left\n  contextPosition.show = true\n}\n\ndocument.addEventListener('click', () => {\n  contextPosition.show = false\n})\n","var render, staticRenderFns\nimport script from \"./edit-wrap.vue?vue&type=script&lang=tsx&\"\nexport * from \"./edit-wrap.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./edit-wrap.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { createComponent, createElement } from '@vue/composition-api'\nimport Resizer from './resize/index.vue'\nimport { setCurrentNode } from '@/assets/node'\nimport { setPosition, contextPosition } from './context-menu/position'\nimport { tabName, setTabName } from '@/assets/tab'\n\nexport default createComponent({\n  props: {\n    item: Object,\n    active: Boolean\n  },\n\n  setup (props, ctx) {\n    const handleClick = (e: any) => {\n      // console.log('click edit wrap')\n      e.stopPropagation()\n      contextPosition.show = false\n      setCurrentNode(props.item)\n      setTabName(['', '', tabName.nodeProperty])\n    }\n    const handleContext = (e: MouseEvent) => {\n      e.preventDefault()\n      handleClick(e)\n      setPosition(e)\n    }\n\n    return () => createElement('div', {\n      class: 'edit-wrap',\n      on: {\n        click: handleClick,\n        context: handleContext,\n        contextmenu: handleContext\n      }\n    }, [\n      props.active && createElement(Resizer, { props: { item: props.item } }),\n      ctx.slots.default && ctx.slots.default()\n    ])\n  }\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-wrap.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-wrap.vue?vue&type=script&lang=tsx&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"context-menu\",style:({\n    left: _vm.left + 'px',\n    top: _vm.top + 'px'\n  })},[_c('div',{staticClass:\"context-menu__item\",on:{\"click\":_vm.handleDel}},[_vm._v(\"删除\")]),(_vm.outDocFlow)?[_c('div',{staticClass:\"context-menu__item\"},[_vm._v(\"上移一层\")]),_c('div',{staticClass:\"context-menu__item\"},[_vm._v(\"下移一层\")]),_c('div',{staticClass:\"context-menu__item\"},[_vm._v(\"置顶\")]),_c('div',{staticClass:\"context-menu__item\"},[_vm._v(\"置底\")])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-show=\"show\"\n    class=\"context-menu\"\n    :style=\"{\n      left: left + 'px',\n      top: top + 'px'\n    }\"\n  >\n    <div class=\"context-menu__item\" @click=\"handleDel\">删除</div>\n    <template v-if=\"outDocFlow\">\n      <div class=\"context-menu__item\">上移一层</div>\n      <div class=\"context-menu__item\">下移一层</div>\n      <div class=\"context-menu__item\">置顶</div>\n      <div class=\"context-menu__item\">置底</div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { createComponent, toRefs, computed } from '@vue/composition-api'\nimport { contextPosition } from './position'\nimport { delNode, currentNode } from '@/assets/node'\n\nexport default createComponent({\n  setup () {\n    return {\n      ...toRefs(contextPosition),\n      outDocFlow: computed(() => currentNode.value && currentNode.value.outDocFlow),\n      handleDel () {\n        delNode({ nodeId: currentNode.value.id })\n      }\n    }\n  }\n})\n</script>\n\n<style lang=\"less\">\n.context-menu {\n  position: fixed;\n  width: 100px;\n  background-color: #fff;\n  z-index: 9999;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .3);\n  text-align: center;\n  &__item {\n    padding: 10px 0;\n    cursor: pointer;\n    &:not(:last-of-type) {\n      border-bottom: 1px #eee solid;\n    }\n    &:hover {\n      background-color: #f2f2f2;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5756904b&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { defineComponent, createElement, watch } from '@vue/composition-api'\nimport { NodeItem, currentNode } from '@/assets/node'\nimport { isEdit } from '@/assets/render'\nimport { FormEvent } from '@/assets/event'\nimport { parseCodeValid } from '@/assets/util'\nimport EditWrap from '../edit-wrap.vue'\nimport ContextMenu from '../context-menu/index.vue'\nimport { dealFx, getEventHandler } from './utils'\n\nconst mergeDirectionSize = (target: any, obj: any, type: 'position' | 'margin' | 'padding') => {\n  if (typeof obj !== 'object') {\n    return\n  }\n  if (type === 'position') {\n    Object.assign(target, obj)\n  } else {\n    const newObj: any = {}\n    Object.keys(obj).forEach(k => {\n      newObj[`${type}${k[0].toUpperCase()}${k.slice(1)}`] = obj[k]\n    })\n    Object.assign(target, newObj)\n  }\n  delete target[type]\n}\n\nexport default defineComponent<{\n  nodes: NodeItem[],\n  pageConfig: { [k: string]: any },\n  globalConfig: { [k: string]: any }\n}>({\n  name: 'RenderItem',\n  props: {\n    nodes: Array,\n    pageConfig: Object,\n    globalConfig: Object\n  },\n  setup (superProps) {\n    const renderItem = (\n      items: NodeItem[],\n      $$page: { [k: string]: any },\n      $$global: { [k: string]: any }\n    ) => {\n      const codeExecuteContext = { $$global, $$page }\n      const isEditState = isEdit()\n      return items.filter(x => {\n        // 判断 v-if\n        let vIf = true\n        if (x.vIf) {\n          const res = dealFx({ vIf: x.vIf }, codeExecuteContext)\n          vIf = !!res.vIf\n        }\n        return x.show && vIf\n      }).map(item => {\n        const isLibrary = item.nodeType === 1 << 2\n        const active = currentNode.value && currentNode.value.id === item.id\n        // 处理事件\n        const on: any = {}\n        const nativeOn: any = {}\n        item.events.forEach((ev: FormEvent) => {\n          const handler = () => getEventHandler(ev, codeExecuteContext)\n          if (ev.eventType === 'click') {\n            nativeOn[ev.eventType] = handler\n          } else {\n            on[ev.eventType] = handler\n          }\n        })\n        // 处理 props\n        const props = {\n          style: {\n            ...item.style,\n            // 处理圆角\n            borderRadius: item.style.borderRadius === '0px' ? undefined : item.style.borderRadius\n          },\n          class: ['render-item__item', item.className, { active }],\n          key: item.id,\n          on,\n          nativeOn,\n          props: dealFx(item.props, codeExecuteContext)\n        }\n        mergeDirectionSize(props.style, item.style.margin, 'margin')\n        mergeDirectionSize(props.style, item.style.padding, 'padding')\n        if (item.outDocFlow && item.style.position) {\n          // 合并位置\n          mergeDirectionSize(props.style, item.style.position, 'position')\n        }\n        props.style.position = item.outDocFlow ? item.style.positionType : undefined\n        // console.log(props.style)\n        const children: any = item.type === 'div'\n          ? renderItem(item.children, superProps.pageConfig, superProps.globalConfig)\n          : []\n        const _renderItemSelf = () => {\n          if (isEditState) {\n            if (isLibrary) {\n              const { ok, value } = parseCodeValid(item.renderString, codeExecuteContext)\n              if (ok && value) {\n                return createElement(item.name, {\n                  // @ts-ignore\n                  ...(value.option || {}),\n                  class: ['height-100', item.className]\n                  // @ts-ignore\n                }, value.children.concat(children))\n              }\n            }\n            return createElement(item.componentName, {\n              // 编辑时，组件本身关心 props 就好\n              props: props.props,\n              class: ['width-100 height-100']\n            }, children)\n          }\n          if (isLibrary) {\n            const { ok, value } = parseCodeValid(item.renderString, codeExecuteContext)\n            if (ok && value) {\n              return createElement(item.name, {\n                ...props,\n                // @ts-ignore\n                ...(value.option || {})\n                // @ts-ignore\n              }, value.children.concat(children))\n            }\n          }\n          return createElement(item.componentName, props, children)\n        }\n\n        if (isEditState) {\n          // 编辑时，容器需要带上组件样式，不用管事件\n          return createElement('div', {\n            style: props.style,\n            class: [props.class, { dib: isLibrary }],\n            key: props.key\n          }, [ createElement(EditWrap, { props: { item, active } }, [ _renderItemSelf() ]) ])\n        }\n        return _renderItemSelf()\n      })\n    }\n\n    return () => createElement(\n      'div',\n      { class: 'render-item', attrs: {} },\n      renderItem(superProps.nodes, superProps.pageConfig, superProps.globalConfig)\n        .concat(createElement(ContextMenu))\n    )\n  }\n})\n","var render, staticRenderFns\nimport script from \"./render-item.vue?vue&type=script&lang=tsx&\"\nexport * from \"./render-item.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./render-item.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./render-item.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./render-item.vue?vue&type=script&lang=tsx&\"","\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, watch, ref, onMounted } from '@vue/composition-api'\nimport { parseCodeValid, sleepUntil } from '@/assets/util'\nimport RenderItem from './render-item.vue'\nimport { initGlobalConfig, getEventHandler } from './utils'\nimport { FormEvent } from '@/assets/event'\nimport { isEdit } from '@/assets/render'\n\nexport default createComponent({\n  components: {\n    RenderItem\n  },\n  props: {\n    currentPage: {\n      type: Object\n    },\n    project: {\n      type: Object\n    }\n  },\n  setup (props) {\n    // @ts-ignore\n    const globalConfig = ref(initGlobalConfig(props.currentPage))\n    const pageConfig = ref({ state: {} })\n    const mounted = ref(false)\n    const getCtx = () => ({ $$page: pageConfig.value, $$global: globalConfig.value })\n    // 更新 http\n    watch(() => props.project && props.project.httpOptions, opt => {\n      if (opt) {\n        globalConfig.value.initHttp(opt, getCtx())\n      }\n    }, { deep: true })\n    // 更新全局 constant\n    watch(() => props.project && props.project.constant, cons => {\n      if (cons) {\n        const { ok, value } = parseCodeValid(cons)\n        if (ok) {\n          globalConfig.value.constant = value!\n        }\n      }\n    }, { deep: true })\n    // 更新 page\n    watch(() => props.currentPage, async (page, oldPage) => {\n      if (page) {\n        // 执行页面钩子\n        if (isEdit()) {\n          globalConfig.value.updatePage(page)\n        } else {\n          const ctx = getCtx()\n          // 上一个页面 unMounted 钩子\n          if (oldPage) {\n            oldPage.events.filter((x: FormEvent) => x.eventType === 'onUnMounted').forEach((ev: FormEvent) => {\n              getEventHandler(ev, ctx)\n            })\n          }\n          await sleepUntil(() => mounted.value)\n          globalConfig.value.updatePage(page)\n          // 当前页面的 mounted 钩子\n          page.events.filter((x: FormEvent) => x.eventType === 'onMounted').forEach((ev: FormEvent) => {\n            getEventHandler(ev, ctx)\n          })\n        }\n      }\n    })\n    // 更新 page.state\n    watch(() => props.currentPage && props.currentPage.state, state => {\n      const { ok, value } = parseCodeValid(state)\n      if (ok) {\n        pageConfig.value.state = value!\n      }\n    }, { deep: true })\n    onMounted(() => {\n      mounted.value = true\n    })\n    return {\n      pageConfig,\n      globalConfig\n    }\n  }\n})\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=69267488&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-wrap.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-wrap.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}